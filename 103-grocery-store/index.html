<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eshop</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
</head>

<body>
    <header class="header">
        <a href="#" class="logo"><i class="fas fa-shopping-basket"></i>TuSuper</a>


        <nav class="navbar">
            <a href="#">Inicio</a>
            <a href="#features">Caracteristicas</a>
            <a href="#products">Productos</a>
            <a href="#category">Categorias</a>
            <a href="#review">Opiniones</a>
            <!-- <a href="#blogs">Blogs</a> -->
        </nav>

        <div class="icons">
            <div class="fas fa-bars" id="menu-btn"></div>
            <!-- <div class="fas fa-search" id="search-btn"></div> -->
            <div class="fas fa-shopping-cart" id="cart-btn"></div>
            <!-- <div class="fas fa-user" id="login-btn"></div> -->
        </div>

        <!-- The Modal -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Your Shopping Cart</h2>
                <table>
                    <tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                    </tr>
                    <!-- You can add rows here with each product -->
                </table>
                <button id="checkout-cart-button">Checkout</button>
            </div>

        </div>

        <form class="search-form">
            <input type="search" id="search-box" placeholder="search here....">
            <label for="search-box" class="fas fa-search"></label>
        </form>

        <!-- <div class="shopping-cart">
            <div class="box">
                <i class="fas fa-trash"></i>
                <img src="image/cart-img-1.png" alt="">
                <div class="content">
                    <h3>Watermelon</h3>
                    <span class="price">4.99/-</span>
                    <span class="quantity">qty:1</span>
                </div>
            </div>
            <div class="box">
                <i class="fas fa-trash"></i>
                <img src="image/cart-img-2.png" alt="">
                <div class="content">
                    <h3>Onion</h3>
                    <span class="price">4.99/-</span>
                    <span class="quantity">qty:1</span>
                </div>
            </div>
            <div class="box">
                <i class="fas fa-trash"></i>
                <img src="image/cart-img-3.png" alt="">
                <div class="content">
                    <h3>Chicken</h3>
                    <span class="price">4.99/-</span>
                    <span class="quantity">qty:1</span>
                </div>
            </div>
            <div class="total"> total : $19.69/- </div>
            <a href="#" class="btn">checkout</a>
        </div> -->

        <form action="" class="login-form">
            <h3>Iniciar sesion</h3>
            <input type="email" placeholder="your email" class="box">
            <input type="password" placeholder="your password" class="box">
            <p>Olvidaste tu contrase√±a?</p> <a href="#">Click aqui</a>
            <p>No tengo cuenta</p> <a href="#">Crear ahora</a>
            <input type="submit" value="Registrase" class="btn">
        </form>

    </header>
    <!-- header section ends -->

    <!-- home section starts  -->

    <section class="home" id="home">

        <div class="content">
            <h3>Productos <span>Organicos</span> y frescos para ti</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam libero nostrum veniam facere tempore
                nisi.</p>
            <a href="#" class="btn">Comprar ahora</a>
        </div>

    </section>

    <!-- home section ends -->

    <!-- features section starts  -->
    <section class="features" id="features">
        <h1 class="heading"><span>Opciones</span></h1>
        <div class="box-container">
            <div class="box">
                <img src="image/feature-img-1.png" alt="">
                <h3>fresco y organico</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.
                </p>
                <a href="#" class="btn">leer mas</a>
            </div>

            <div class="box">
                <img src="image/feature-img-2.png" alt="">
                <h3>envio gratis</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.
                </p>
                <a href="#" class="btn">leer mas</a>
            </div>

            <div class="box">
                <img src="image/feature-img-3.png" alt="">
                <h3>pagos faciles</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.
                </p>
                <a href="#" class="btn">leer mas</a>
            </div>
        </div>
    </section>

    <!-- categories section starts  -->
    <section class="categories" id="category">
        <h1 class="heading"><span>Categorias</span></h1>
        <div class="box-container">
            <div class="box">
                <img src="image/cat-1.png" alt="">
                <h3>Vegetales</h3>
                <p>Grandes ofertas!</p>
                <a href="#" class="btn">Comprar</a>
            </div>

            <div class="box">
                <img src="image/cat-2.png" alt="">
                <h3>Frutas Frescas</h3>
                <div style="padding-top: 5rem;">
                </div>
                <a href="#" class="btn">Comprar</a>
            </div>

            <div class="box">
                <img src="image/cat-3.png" alt="">
                <h3>Lacteos</h3>
                <div style="padding-top: 5rem;">
                </div>
                <a href="#" class="btn">Comprar</a>
            </div>

            <div class="box">
                <img src="image/cat-4.png" alt="">
                <h3>Carne fresca</h3>
                <div style="padding-top: 5rem;">
                </div>
                <a href="#" class="btn">Comprar</a>
            </div>
        </div>
    </section>
    <!-- categories section starts  -->


    <!-- products section starts  -->

    <section class="products" id="products">

        <h1 class="heading"><span>productos</span> </h1>

        <div class="swiper product-slider">

            <div class="swiper-wrapper">

                <div class="swiper-slide box">
                    <img src="image/product-1.png" alt="">
                    <h3>naranja fresca</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">5</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-2.png" alt="">
                    <h3>cebolla</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">3</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-3.png" alt="">
                    <h3>carne</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">8</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-4.png" alt="">
                    <h3>lechuga</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">2</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

            </div>

        </div>

        <div class="swiper product-slider">

            <div class="swiper-wrapper">

                <div class="swiper-slide box">
                    <img src="image/product-5.png" alt="">
                    <h3>papa</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">4</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-6.png" alt="">
                    <h3>aguacate</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">10</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-7.png" alt="">
                    <h3>zanahoria</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">3</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

                <div class="swiper-slide box">
                    <img src="image/product-8.png" alt="">
                    <h3>limon verde</h3>
                    <div class="price"> <span></span>$<span class="priceNumber">5</span></div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn">agregar al carrito</a>
                </div>

            </div>

        </div>


    </section>

    <!-- products section ends -->
    <!-- review section starts  -->
    <section class="review" id="review">
        <h1 class="heading"><span>Puntuaciones</span> </h1>
        <div class="swiper review-slider">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <img src="image/pic-1.png" alt="">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing.</p>
                    <h3>Batra M</h3>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                </div>

                <div class="swiper-slide box">
                    <img src="image/pic-2.png" alt="">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing.</p>
                    <h3>Sinha J</h3>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                </div>
                <div class="swiper-slide box">
                    <img src="image/pic-3.png" alt="">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing.</p>
                    <h3>Singh R</h3>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                </div>

                <div class="swiper-slide box">
                    <img src="image/pic-4.png" alt="">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing.</p>
                    <h3>Sharma R</h3>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!-- review section ends -->


    <!-- blogs section starts  -->

    <!-- <section class="blogs" id="blogs">

        <h1 class="heading"> our <span>blogs</span> </h1>

        <div class="box-container">

            <div class="box">
                <img src="image/blog-1.jpg" alt="">
                <div class="content">
                    <div class="icons">
                        <a href="#"> <i class="fas fa-user"></i> by user </a>
                        <a href="#"> <i class="fas fa-calendar"></i> 1st may, 2021 </a>
                    </div>
                    <h3>fresh and organic vegitables and fruits</h3>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veniam, expedita.</p>
                    <a href="#" class="btn">read more</a>
                </div>
            </div>

            <div class="box">
                <img src="image/blog-2.jpg" alt="">
                <div class="content">
                    <div class="icons">
                        <a href="#"> <i class="fas fa-user"></i> by user </a>
                        <a href="#"> <i class="fas fa-calendar"></i> 1st may, 2021 </a>
                    </div>
                    <h3>fresh and organic vegitables and fruits</h3>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veniam, expedita.</p>
                    <a href="#" class="btn">read more</a>
                </div>
            </div>

            <div class="box">
                <img src="image/blog-3.jpg" alt="">
                <div class="content">
                    <div class="icons">
                        <a href="#"> <i class="fas fa-user"></i> by user </a>
                        <a href="#"> <i class="fas fa-calendar"></i> 1st may, 2021 </a>
                    </div>
                    <h3>fresh and organic vegitables and fruits</h3>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Veniam, expedita.</p>
                    <a href="#" class="btn">read more</a>
                </div>
            </div>

        </div>

    </section> -->

    <!-- blogs section ends -->

    <!-------------Footer Section---------------------->
    <section class="footer">
        <div class="box-container">
            <div class="box">
                <h3><i class="fas fa-shopping-basket"></i>TuSuper</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi corrupti possimus dolor molestiae.</p>
                <div class="share">
                    <a href="#" class="fab fa-facebook-f"></a>
                    <a href="#" class="fab fa-twitter"></a>
                    <a href="#" class="fab fa-instagram"></a>
                    <a href="#" class="fab fa-linkedin"></a>
                </div>
            </div>

            <div class="box">
                <h3>Informacion de contacto</h3>
                <a href="#" class="links"><i class="fas fa-phone"></i>+123-852-963</a>
                <a href="#" class="links"><i class="fas fa-phone"></i>+123-852-963</a>
                <a href="#" class="links"><i class="fas fa-envelope"></i>test@test.com</a>
                <a href="#" class="links"><i class="fas fa-map-marker-alt"></i>Cd Juarez, Chih</a>
            </div>

            <div class="box">
                <h3>Links rapidos</h3>
                <a href="#" class="links"><i class="fas fa-arrow-right"></i>Inicio</a>
                <a href="#" class="links"><i class="fas fa-arrow-right"></i>Opciones</a>
                <a href="#" class="links"><i class="fas fa-arrow-right"></i>Productos</a>
                <a href="#" class="links"><i class="fas fa-arrow-right"></i>Categorias</a>
                <a href="#" class="links"><i class="fas fa-arrow-right"></i>Rese√±as</a>
            </div>
        </div>
        <!-- <div class="credit">created by <span>Rutik Bhoyarüß°</span>| all rights reserved</div> -->
    </section>


    <!----------------Scripts------------------------->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src="js/script.js"></script>

    <script>

        // Array of products
        var products = [
        ];
        // Declare updateGrandTotal as a global function
        function updateGrandTotal(table) {
            var grandTotal = Array.from(table.querySelectorAll('.price')).reduce(function (total, cell) {
                return total + parseFloat(cell.textContent);
            }, 0);

            var grandTotalRow = table.querySelector('tr.grand-total');

            if (!grandTotalRow) {
                grandTotalRow = document.createElement('tr');
                grandTotalRow.classList.add('grand-total');

                var grandTotalCell = document.createElement('td');
                grandTotalCell.colSpan = 3;
                grandTotalCell.textContent = 'total: ';

                var totalCell = document.createElement('td');
                totalCell.textContent = grandTotal;

                grandTotalRow.appendChild(grandTotalCell);
                grandTotalRow.appendChild(totalCell);

                table.appendChild(grandTotalRow);
            } else {
                grandTotalRow.querySelector('td:last-child').textContent = grandTotal;
            }
        }

        function updateModalContent() {
            var table = document.querySelector('.modal-content table');
            var product = products[products.length - 1];
            var row = table.querySelector('tr[data-name="' + product.name + '"]');

            if (row) {
                var quantityCell = row.querySelector('.quantity');
                var priceCell = row.querySelector('.price');
                quantityCell.textContent = parseInt(quantityCell.textContent) + product.quantity;
                priceCell.textContent = parseFloat(priceCell.textContent) + product.price;
            } else {
                row = document.createElement('tr');
                row.setAttribute('data-name', product.name);

                var nameCell = document.createElement('td');
                nameCell.textContent = product.name;

                var quantityCell = document.createElement('td');
                quantityCell.classList.add('quantity');
                quantityCell.textContent = product.quantity;

                var priceCell = document.createElement('td');
                priceCell.classList.add('price');
                priceCell.textContent = product.price;

                var deleteCell = document.createElement('td');
                var deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', function () {
                    removeOneQuantity(row, table, product.price);
                });
                deleteCell.appendChild(deleteButton);

                row.appendChild(nameCell);
                row.appendChild(quantityCell);
                row.appendChild(priceCell);
                row.appendChild(deleteCell);

                table.appendChild(row);
            }

            var grandTotalRow = table.querySelector('tr.grand-total');
            if (grandTotalRow) {
                grandTotalRow.remove();
            }

            updateGrandTotal(table);
        }

        function removeOneQuantity(row, table, productPrice) {
            var quantityCell = row.querySelector('.quantity');
            var priceCell = row.querySelector('.price');

            var currentQuantity = parseInt(quantityCell.textContent);
            var currentPrice = parseFloat(priceCell.textContent);

            if (currentQuantity > 1) {
                quantityCell.textContent = currentQuantity - 1;
                priceCell.textContent = currentPrice - productPrice;
            } else {
                row.remove();
            }

            updateGrandTotal(table);
        }

        // Select the table
        var table = document.querySelector('#myModal table');

        // Loop through the products
        for (var i = 0; i < products.length; i++) {
            // Create a table row
            var row = document.createElement('tr');

            // Create cells for the product name, quantity, and price
            var nameCell = document.createElement('td');
            var quantityCell = document.createElement('td');
            var priceCell = document.createElement('td');

            // Set the text content of the cells
            nameCell.textContent = products[i].name;
            quantityCell.textContent = products[i].quantity;
            priceCell.textContent = products[i].price;

            // Append the cells to the row
            row.appendChild(nameCell);
            row.appendChild(quantityCell);
            row.appendChild(priceCell);

            // Append the row to the table
            table.appendChild(row);
        }

        window.onload = function () {
            // Select all buttons inside the "features" class
            var optionsbuttons = document.querySelectorAll('.features .btn');
            var categoriasBtns = document.querySelectorAll('.categories .btn');

            // Add an event listener to each button
            optionsbuttons.forEach(function (button) {
                button.addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent the default action

                    // Get the h3 sibling of the button
                    var h3 = button.parentElement.querySelector('h3');

                    // If the h3 exists, display its text content in an alert
                    if (h3) {
                        alert(h3.textContent);
                    }
                });
            });
            categoriasBtns.forEach(function (button) {
                button.addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent the default action

                    // Get the h3 sibling of the button
                    var h3 = button.parentElement.querySelector('h3');

                    // If the h3 exists, display its text content in an alert
                    if (h3) {
                        alert(h3.textContent);
                    }
                });
            });
        };

        // Select the form
        var form = document.querySelector('.login-form');

        // Get all elements in the form
        var formElements = form.elements;

        // Loop through each element
        for (var i = 0; i < formElements.length; i++) {
            // Set the disabled property to true
            formElements[i].disabled = true;
        }

        // Select the shopping cart button
        var cartBtn = document.getElementById('cart-btn');

        // Add a click event listener to the button
        cartBtn.addEventListener('click', function () {
            // Display the modal
            // Assuming you have a modal with id 'myModal'
            console.log('click');
            var modal = document.getElementById('myModal');
            modal.style.display = "block";
        });

        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        var checkout = document.getElementById('checkout-cart-button');

        checkout.onclick = function () {
            modal.style.display = "none";
            alert("Gracias por su compra! checkout")
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Define the event handler function
        function handleButtonClick(event) {
            // Prevent the default action
            event.preventDefault();

            // Get the product name, quantity, and price
            var name = this.parentElement.querySelector('h3').textContent;
            var quantity = 1;
            var price = parseFloat(this.parentElement.querySelector('.priceNumber').textContent);

            // Create a JSON object
            var product = { name: name, quantity: quantity, price: price };

            // Log the JSON object
            products.push(product);
            console.log(product, products);
            updateModalContent();
        }

        // Define a function that attaches event listeners to the buttons
        function attachEventListeners() {
            // Select all the "agregar al carrito" buttons inside a "swiper-wrapper" element
            var buttons = document.querySelectorAll('.swiper-wrapper .btn');

            // Loop through each button
            for (var i = 0; i < buttons.length; i++) {
                // Remove any existing event listeners from the button
                buttons[i].removeEventListener('click', handleButtonClick);

                // Add an event listener to the button
                buttons[i].addEventListener('click', handleButtonClick);
            }
        }

        // Initialize the MutationObserver
        var observer = new MutationObserver(attachEventListeners);

        // Start observing the document with the configured parameters
        observer.observe(document, { childList: true, subtree: true });



        var swiper1 = new Swiper(".review-slider", {
            loop: true,
            spaceBetween: 20,
            autoplay: {
                delay: 7500,
                disableOnInteraction: false,
            },
            centeredSlides: true,
            breakpoints: {
                0: {
                    slidesPerView: 1,
                },
                768: {
                    slidesPerView: 2,
                },
                1020: {
                    slidesPerView: 3,
                },
            },
        });

    </script>
    <script>
        var swiper2 = new Swiper(".product-slider", {
            loop: true,
            spaceBetween: 20,
            autoplay: {
                delay: 7500,
                disableOnInteraction: false,
            },
            centeredSlides: true,
            breakpoints: {
                0: {
                    slidesPerView: 1,
                },
                768: {
                    slidesPerView: 2,
                },
                1020: {
                    slidesPerView: 3,
                },
            },
        });
    </script>
</body>

</html>